(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(19),c=a.n(r),s=(a(73),a(8)),o=a(9),i=a(12),m=a(10),u=a(6),d=a(13),h=(a(74),a(11)),p=(a(75),a(5)),b=a.n(p),g=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).logout=e.logout.bind(Object(u.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"logout",value:function(e){var t=this;e.preventDefault(),console.log("Attempting to log out..."),b.a.post("/api/users/logout").then(function(e){console.log(e.data),200===e.status&&t.props.updateUser({loggedIn:!1,username:null})}).catch(function(e){console.log("Error logging out: ".concat(e))})}},{key:"render",value:function(){var e=this.props.loggedIn;return console.log(e),l.a.createElement("div",{className:"container nav-code"},l.a.createElement("ul",{className:"nav navBar justify-content-end nav-fill"},e?l.a.createElement("li",{className:"nav-item"},l.a.createElement(h.b,{to:"#",role:"button",className:"btn btn-link",onClick:this.logout},l.a.createElement("span",{className:"nav-span",style:{color:"#"===window.location.pathname?"green":"white"}},"Logout"))):l.a.createElement("p",null,"HI"),l.a.createElement("li",{className:"nav-item"},l.a.createElement(h.b,{to:"/",role:"button",className:"btn btn-link"},l.a.createElement("span",{className:"nav-span",style:{color:"/"===window.location.pathname?"green":"white"}},"Home"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(h.b,{to:"/login",role:"button",className:"btn btn-link"},l.a.createElement("span",{className:"nav-span",style:{color:"/login"===window.location.pathname?"green":"white"}},"Login"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(h.b,{to:"/signup",role:"button",className:"btn btn-link"},l.a.createElement("span",{className:"nav-span",style:{color:"/signup"===window.location.pathname?"green":"white"}},"Sign Up"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(h.b,{to:"/parksubmit",role:"button",className:"btn btn-link"},l.a.createElement("span",{className:"nav-span",style:{color:"/parksubmit"===window.location.pathname?"green":"white"}},"Submit a Park!")))))}}]),t}(n.Component);a(97);var E=function(e){e.type,e.className;var t=e.onClick;return l.a.createElement("div",{className:"jumbotron text-center"},l.a.createElement("h1",{style:{fontSize:"80px",color:"white"}},"Park Rangers"),l.a.createElement("p",{style:{fontSize:"40px",fontWeight:"bolder",color:"white"}},"Review local parks in your area"),l.a.createElement("button",{onClick:t,className:"btn btn-lg button mr-3 btn-success"},"See parks by age"),l.a.createElement("button",{onClick:t,className:"btn btn-lg button mr-3 btn-success"},"See parks by area"),l.a.createElement("button",{onClick:t,className:"btn btn-lg button btn-success"},"See parks by popularity"))};a(98);var f=function(e){e.type,e.className;var t=e.onClick;return l.a.createElement("div",{className:"review-buttons btn-toolbar justify-content-between"},l.a.createElement("button",{onClick:t,className:"btn btn-lg all button  btn-success"},"All ages"),l.a.createElement("button",{onClick:t,className:"btn btn-lg twoFour button  btn-success"},"Age 2-4"),l.a.createElement("button",{onClick:t,className:"btn btn-lg fiveSeven button  btn-success"},"Age 5-7"),l.a.createElement("button",{onClick:t,className:"btn btn-lg eightNine button  btn-success"},"Age 8-9"),l.a.createElement("button",{onClick:t,className:"btn btn-lg tenTwelwe button  btn-success"},"Age 10-12"),l.a.createElement("button",{onClick:t,className:"btn btn-lg thirteen button  btn-success"},"Age 13+"))};a(99);function v(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}var k={getParks:function(){return b.a.get("/api/parks")},getPark:function(e){return b.a.get("/api/parks/"+e)},deletePark:function(e){return b.a.delete("/api/parks/"+e)},savePark:function(e){return b.a.post("/api/parks",e)}};a(100);function N(e){var t=e.children;return l.a.createElement("div",{className:"list-container"},l.a.createElement("ul",{className:"list-group"},t))}function y(e){var t=e.children;return l.a.createElement("li",{className:"list-group-item"},t)}var w=a(130),C=(a(101),function(e){function t(e,a){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(m.a)(t).call(this,e,a))).state={show:!1},n.handleShow=function(){n.setState({show:!0})},n.handleHide=function(){n.setState({show:!1})},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.description,n=e.age,r=e.image;e.children;return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.b,{variant:"primary",onClick:this.handleShow},t),l.a.createElement(w.a,{className:"park-details",size:"lg",show:this.state.show,onHide:this.handleHide,dialogClassName:"modal-xl","aria-labelledby":"example-custom-modal-styling-title",backdrop:"static"},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,{id:"example-custom-modal-styling-title"},t)),l.a.createElement(w.a.Body,null,l.a.createElement("div",{className:"modal-image"},l.a.createElement("img",{src:r})),l.a.createElement("br",null),l.a.createElement("p",null,l.a.createElement("strong",null,"Park Description: "),a,l.a.createElement("br",null),l.a.createElement("strong",null,"Recommended Age:  ")," ",n),l.a.createElement("strong",null,"Park Features:"),l.a.createElement("br",null),"*features here*",l.a.createElement("p",null))))}}]),t}(n.Component)),O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={parks:[],thumbnail:"",title:"",summary:"",href:"",appropriateAge:"",starRating:""},a.loadParks=function(){k.getParks().then(function(e){return a.setState({parks:e.data,title:"TITLE",summary:"SUMMARY",appropriateAge:"AGE",href:"link"})}).catch(function(e){return console.log(e)})},a.deletePark=function(e){k.deletePark(e).then(function(e){return a.loadParks()}).catch(function(e){return console.log(e)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.loadParks()}},{key:"render",value:function(){return l.a.createElement("div",{className:"preview-item"},this.state.parks.length?l.a.createElement(N,null,this.state.parks.map(function(e){return l.a.createElement(y,{key:e._id},l.a.createElement("div",{className:"clearfix img-holder"},l.a.createElement("img",{src:e.image})),l.a.createElement("span",{className:"preview-span"},l.a.createElement(C,{name:e.parkName,image:e.image,description:e.description,age:e.age}),l.a.createElement("br",null),e.description,l.a.createElement("br",null),l.a.createElement("strong",null,"Recommended Age:  ")," ",e.age))})):l.a.createElement("h3",null,"No Results to Display"))}}]),t}(n.Component);a(119);var j=function(){return l.a.createElement("div",{className:"container"},l.a.createElement("footer",{className:"footer mt-10 py-3"},l.a.createElement("div",{className:"container"},l.a.createElement("span",{className:"text-muted"},"\xa9 PARKIFY APP - All rights reserved."))))};a(120);var S=function(){return l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(v,null,l.a.createElement(E,null),l.a.createElement(f,null),l.a.createElement(O,null)),l.a.createElement(j,null))},x=a(20),U=(a(121),a(22)),A=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={username:"",password:"",redirectTo:null},e.handleSubmit=e.handleSubmit.bind(Object(u.a)(e)),e.handleChange=e.handleChange.bind(Object(u.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("handleSubmit"),b.a.post("/api/users/login",{username:this.state.username,password:this.state.password}).then(function(e){console.log("login response: "),console.log(e),200===e.status&&(t.props.updateUser({loggedIn:!0,username:e.data.username}),t.setState({redirectTo:"/"}))}).catch(function(e){console.log("login error: "),console.log(e)})}},{key:"render",value:function(){return this.state.redirectTo?l.a.createElement(U.a,{to:{pathname:this.state.redirectTo}}):l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-3"}),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h2",{style:{fontWeight:"bolder",fontSize:"60px"}},"Login"),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{style:{fontWeight:"bolder"}},"Username:"),l.a.createElement("input",{name:"username",type:"text",className:"form-control",id:"username",placeholder:"Enter Username",value:this.state.username,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{style:{fontWeight:"bolder"}},"Password:"),l.a.createElement("input",{name:"password",type:"password",className:"form-control",id:"password",placeholder:"Enter Password",value:this.state.password,onChange:this.handleChange})),l.a.createElement("div",{className:"d-inline"},l.a.createElement("button",{type:"button",onClick:this.handleSubmit,className:"btn btn-secondary btn-success mr-5 signIn"},"Sign In"),l.a.createElement(h.b,{to:"/signup",role:"button",className:"btn btn-secondary btn-success register"},"Register")))))),l.a.createElement("div",{className:"col-md-3"}))))}}]),t}(l.a.Component),T=(a(122),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={username:"",password:"",redirectTo:null},e.handleSubmit=e.handleSubmit.bind(Object(u.a)(e)),e.handleChange=e.handleChange.bind(Object(u.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(x.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;console.log("sign-up handleSubmit, username: "),console.log(this.state.username),e.preventDefault(),b.a.post("/api/users/",{username:this.state.username,password:this.state.password}).then(function(e){console.log(e),e.data.errmsg?console.log("username already taken"):(console.log("successful signup"),t.setState({redirectTo:"/"}))}).catch(function(e){console.log("signup error: "),console.log(e)})}},{key:"render",value:function(){return this.state.redirectTo?l.a.createElement(U.a,{to:{pathname:this.setState.redirectTo}}):l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-3"}),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h2",{style:{fontWeight:"bolder",fontSize:"60px"}},"Register An Account"),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{style:{fontWeight:"bolder"}},"Username:"),l.a.createElement("input",{name:"username",type:"text",className:"form-control",id:"username",placeholder:"Enter Username",value:this.state.username,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{style:{fontWeight:"bolder"}},"Password:"),l.a.createElement("input",{name:"password",type:"password",id:"password",placeholder:"Enter Password",value:this.state.password,className:"form-control",onChange:this.handleChange})),l.a.createElement("div",{className:"d-inline"},l.a.createElement("button",{type:"submit",onClick:this.handleSubmit,className:"btn btn-secondary btn-success register"},"Register")))))),l.a.createElement("div",{className:"col-md-3"}))))}}]),t}(n.Component)),I=(a(123),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={parkName:"",description:"",location:"",age:0,image:"",features:[{name:"swings",isChecked:!1},{name:"slides",isChecked:!1},{name:"monkey-bar",isChecked:!1},{name:"castle",isChecked:!1}],reviews:[]},a.handleInputChange=function(e){var t,n=e.target,l=n.name,r=n.value,c=a.state.features;c.forEach(function(t){t.name===e.target.name&&(t.isChecked=e.target.checked)}),a.setState((t={},Object(x.a)(t,l,r),Object(x.a)(t,"features",c),t)),console.log("MY NEW STATE",a.state)},a.handleFormSubmit=function(e){e.preventDefault(),console.log(a.state),k.savePark(a.state),a.setState({parkName:"",description:"",location:"",age:0,image:"",features:[{name:"swings",isChecked:!1},{name:"slides",isChecked:!1},{name:"monkey-bar",isChecked:!1},{name:"castle",isChecked:!1}]})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(v,null,l.a.createElement(E,null),l.a.createElement("form",{className:"form-group mainBox"},l.a.createElement("br",null),l.a.createElement("input",{className:"form-control",type:"text",placeholder:"Park Name",name:"parkName",value:this.state.parkName,onChange:this.handleInputChange}),l.a.createElement("br",null),l.a.createElement("input",{className:"form-control",type:"text",placeholder:"Location",name:"location",value:this.state.location,onChange:this.handleInputChange}),l.a.createElement("div",{className:"form-check form-check-inline"},l.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"customCheck1",name:"swings",checked:this.state.features.isChecked,value:this.state.features.value,onClick:this.handleInputChange}),l.a.createElement("label",{className:"form-check-label",htmlFor:"customCheck1"},"Swings"),l.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"inlineCheckbox2",name:"slides",checked:this.state.features.isChecked,value:this.state.features.value,onClick:this.handleInputChange}),l.a.createElement("label",{className:"form-check-label",htmlFor:"inlineCheckbox2"},"Slides"),l.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"inlineCheckbox3",name:"monkey-bar",checked:this.state.features.isChecked,value:this.state.features.value,onClick:this.handleInputChange}),l.a.createElement("label",{className:"form-check-label",htmlFor:"inlineCheckbox3"},"Monkey Bar"),l.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"inlineCheckbox4",name:"castle",value:this.state.features.value,onChange:this.handleInputChange}),l.a.createElement("label",{className:"form-check-label",htmlFor:"inlineCheckbox4"}," Castle")),l.a.createElement("input",{className:"form-control description",type:"text",placeholder:"Description",name:"description",value:this.state.description,onChange:this.handleInputChange}),l.a.createElement("br",null),l.a.createElement("input",{className:"form-control description",type:"number",placeholder:"Age",name:"age",value:this.state.age,onChange:this.handleInputChange}),l.a.createElement("br",null),l.a.createElement("p",null,"Upload Images"),l.a.createElement("input",{type:"file",onChange:this.fileChangedHandler}),l.a.createElement("button",{onClick:this.uploadHandler},"Upload!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:this.handleFormSubmit},"Submit"))))}}]),t}(n.Component)),R=a(30),P=a.n(R),_=function(e){e?b.a.defaults.headers.common.Authorization=e:delete b.a.defaults.headers.common.Authorization},D=function(e){return{type:"SET_CURRENT_USER",payload:e}},F=function(){return function(e){localStorage.removeItem("jwtToken"),_(!1),e(D({}))}},L=a(27),M=a(21),W=a(66),H=a(41),z=a(127),B={isAuthenticated:!1,user:{},loading:!1},X={},Y=Object(M.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(H.a)({},e,{isAuthenticated:!z(t.payload),user:t.payload});case"USER_LOADING":return Object(H.a)({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),G=[W.a],J=Object(M.e)(Y,{},Object(M.d)(M.a.apply(void 0,G),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||M.d)),V=a(67),K=Object(L.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(V.a)(e,["component","auth"]);return l.a.createElement(U.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?l.a.createElement(t,e):l.a.createElement(U.a,{to:"/login"})}}))}),$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.auth.user;return l.a.createElement("div",{style:{height:"75vh"},className:"container valign-wrapper"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"landing-copy col s12 center-align"},l.a.createElement("h4",null,l.a.createElement("b",null,"Hey there,")," ",e.name.split(" ")[0],l.a.createElement("p",{className:"flow-text grey-text text-darken-1"},"You are logged into a full-stack"," ",l.a.createElement("span",{style:{fontFamily:"monospace"}},"MERN")," app \ud83d\udc4f")),l.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},onClick:this.onLogoutClick,className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Logout"))))}}]),t}(n.Component),q=Object(L.b)(function(e){return{auth:e.auth}},{logoutUser:F})($);if(localStorage.jwtToken){var Q=localStorage.jwtToken;_(Q);var Z=P()(Q);J.dispatch(D(Z));var ee=Date.now()/1e3;Z.exp<ee&&(J.dispatch(F()),window.location.href="./login")}var te=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={loggedIn:!1,username:null},e.getUser=e.getUser.bind(Object(u.a)(e)),e.componentDidMount=e.componentDidMount.bind(Object(u.a)(e)),e.updateUser=e.updateUser.bind(Object(u.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"updateUser",value:function(e){this.setState(e)}},{key:"getUser",value:function(){var e=this;b.a.get("/api/users").then(function(t){console.log("getUser Response is: ".concat(t.data)),t.data.user?(console.log("getUser: There is a saved user"),e.setState({loggedIn:!0,username:t.data.user.username})):(console.log("getUser: There is no saved user"),e.setState({loggedIn:!1,username:null}))})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement(L.a,{store:J},l.a.createElement(h.a,null,l.a.createElement("div",null,this.state.loggedIn&&l.a.createElement("p",null,"Welcome, ",this.state.username),l.a.createElement(U.b,{exact:!0,path:"/",render:function(e){return l.a.createElement(S,e)}}),l.a.createElement(U.b,{exact:!0,path:"/parksubmit",component:I}),l.a.createElement(U.b,{exact:!0,path:"/login",render:function(){return l.a.createElement(A,{updateUser:e.updateUser})}}),l.a.createElement(U.b,{exact:!0,path:"/signup",component:T}),l.a.createElement(U.d,null,l.a.createElement(K,{exact:!0,path:"/dashboard",component:q}))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},68:function(e,t,a){e.exports=a(128)},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.ab0517b3.chunk.js.map